{% extends "base.html" %}

{% block title %}Î£Ï…Î¼Ï€ÎµÏÎ¬ÏƒÎ¼Î±Ï„Î± - Î‘Î½Î¬Î»Ï…ÏƒÎ· Î§ÏÎ¿Î½Î¿ÏƒÎµÎ¹ÏÎ¬Ï‚{% endblock %}

{% block content %}
<article>
    <h2>Î†ÏƒÎºÎ·ÏƒÎ· 18</h2>
    <div class="question">
        <p><strong>Î•ÏÏÏ„Î·ÏƒÎ·:</strong> ÎÎ± Î´Î¹Î±Ï„Ï…Ï€Ï‰Î¸Î¿ÏÎ½ Ï„Î± ÏƒÏ…Î¼Ï€ÎµÏÎ¬ÏƒÎ¼Î±Ï„Î± Ï€Î¿Ï… Ï€ÏÎ¿ÎºÏÏ€Ï„Î¿Ï…Î½.</p>
    </div>
    
    <div class="summary-plot">
        <img src="data:image/png;base64,{{ summary_plot }}" alt="Î£ÏÎ½Î¿ÏˆÎ· Î‘Î½Î¬Î»Ï…ÏƒÎ·Ï‚" style="max-width: 100%;">
    </div>
    
    <section class="conclusions-section">
        <h3>Î’Î‘Î£Î™ÎšÎ‘ Î§Î‘Î¡Î‘ÎšÎ¤Î—Î¡Î™Î£Î¤Î™ÎšÎ‘</h3>
        <div class="stats-box">
            <p><strong>Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚ Ï€Î±ÏÎ±Ï„Î·ÏÎ®ÏƒÎµÏ‰Î½:</strong> {{ n }}</p>
            <p><strong>ÎœÎ­ÏƒÎ¿Ï‚ ÏŒÏÎ¿Ï‚:</strong> {{ mean_P }}</p>
            <p><strong>Î¤Ï…Ï€Î¹ÎºÎ® Î±Ï€ÏŒÎºÎ»Î¹ÏƒÎ·:</strong> {{ std_P }}</p>
            <p><strong>Î•ÏÏÎ¿Ï‚:</strong> [{{ min_P }}, {{ max_P }}]</p>
        </div>
    </section>
    
    <section class="conclusions-section">
        <h3>Î¤Î‘Î£Î— (TREND)</h3>
        <div class="stats-box">
            <p><strong>Î£Ï…Î½Ï„ÎµÎ»ÎµÏƒÏ„Î®Ï‚ Ï€ÏÎ¿ÏƒÎ´Î¹Î¿ÏÎ¹ÏƒÎ¼Î¿Ï (RÂ²):</strong> {{ r2 }}</p>
            <p><strong>ÎšÎ±Ï„ÎµÏÎ¸Ï…Î½ÏƒÎ·:</strong> {{ trend_direction }} Ï„Î¬ÏƒÎ·</p>
            <p><strong>Î™ÏƒÏ‡ÏÏ‚:</strong> {{ trend_strength }}</p>
            {% if trend_strength == "Î™Î£Î§Î¥Î¡Î—" %}
            <p class="conclusion">âœ… Î— Ï‡ÏÎ¿Î½Î¿ÏƒÎµÎ¹ÏÎ¬ Ï€Î±ÏÎ¿Ï…ÏƒÎ¹Î¬Î¶ÎµÎ¹ {{ trend_strength }} {{ trend_direction }} Ï„Î¬ÏƒÎ·</p>
            {% endif %}
        </div>
    </section>
    
    <section class="conclusions-section">
        <h3>Î£Î¤Î‘Î£Î™ÎœÎŸÎ¤Î—Î¤Î‘</h3>
        <div class="stats-box">
            <p><strong>Î‘ÏÏ‡Î¹ÎºÎ® Ï‡ÏÎ¿Î½Î¿ÏƒÎµÎ¹ÏÎ¬:</strong> 
                {% if is_original_stationary %}
                <span class="positive">âœ… Î£Ï„Î¬ÏƒÎ¹Î¼Î·</span>
                {% else %}
                <span class="negative">âŒ ÎœÎ·-Î£Ï„Î¬ÏƒÎ¹Î¼Î· (Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Ï„Î¬ÏƒÎ·)</span>
                {% endif %}
            </p>
            <p><strong>ÎšÎ±Ï„Î¬Î»Î¿Î¹Ï€Î± (Î£Ï„Î¿Ï‡Î±ÏƒÏ„Î¹ÎºÏŒÏ„Î·Ï„Î±):</strong> 
                {% if is_residuals_stationary %}
                <span class="positive">âœ… Î£Ï„Î¬ÏƒÎ¹Î¼Î±</span>
                {% else %}
                <span class="negative">âŒ ÎœÎ·-Î£Ï„Î¬ÏƒÎ¹Î¼Î±</span>
                {% endif %}
            </p>
        </div>
    </section>
    
    <section class="conclusions-section">
        <h3>ÎœÎ‘ÎšÎ¡ÎŸÎ Î¡ÎŸÎ˜Î•Î£ÎœÎ— ÎœÎÎ—ÎœÎ— (HURST EXPONENT)</h3>
        <div class="stats-box">
            <p><strong>Î”ÎµÎ¯ÎºÏ„Î·Ï‚ Hurst (H):</strong> {{ H }}</p>
            <p><strong>Î¤ÏÏ€Î¿Ï‚ ÎœÎ½Î®Î¼Î·Ï‚:</strong> {{ memory_type }}</p>
            {% if has_long_memory %}
            <p class="conclusion">ğŸ”— Î¥Ï€Î¬ÏÏ‡ÎµÎ¹ Î™Î£Î§Î¥Î¡Î— ÎœÎ‘ÎšÎ¡ÎŸÎ Î¡ÎŸÎ˜Î•Î£ÎœÎ— ÎœÎÎ—ÎœÎ— (H = {{ H }} > 0.55)</p>
            <p>ÎŸÎ¹ Ï„Î¬ÏƒÎµÎ¹Ï‚ Ï„ÎµÎ¯Î½Î¿Ï…Î½ Î½Î± ÏƒÏ…Î½ÎµÏ‡Î¯Î¶Î¿Î½Ï„Î±Î¹ (persistent behavior)</p>
            {% endif %}
        </div>
    </section>
    
    <section class="conclusions-section">
        <h3>Î‘Î¥Î¤ÎŸÎ£Î¥Î£Î§Î•Î¤Î™Î£Î—</h3>
        <div class="stats-box">
            <p><strong>Î‘Ï…Ï„Î¿ÏƒÏ…ÏƒÏ‡Î­Ï„Î¹ÏƒÎ· Î±ÏÏ‡Î¹ÎºÎ®Ï‚ Ï‡ÏÎ¿Î½Î¿ÏƒÎµÎ¹ÏÎ¬Ï‚ (lag 1):</strong> {{ ac_original }}</p>
            <p><strong>Î‘Ï…Ï„Î¿ÏƒÏ…ÏƒÏ‡Î­Ï„Î¹ÏƒÎ· ÎºÎ±Ï„Î±Î»Î¿Î¯Ï€Ï‰Î½ (lag 1):</strong> {{ ac_residuals }}</p>
            {% if has_high_autocorr %}
            <p class="conclusion">âš ï¸ Î¥ÏˆÎ·Î»Î® Î±Ï…Ï„Î¿ÏƒÏ…ÏƒÏ‡Î­Ï„Î¹ÏƒÎ· Ï…Ï€Î¿Î´Î·Î»ÏÎ½ÎµÎ¹ Î¹ÏƒÏ‡Ï…ÏÎ® ÎµÎ¾Î¬ÏÏ„Î·ÏƒÎ· Î¼ÎµÏ„Î±Î¾Ï Ï€Î±ÏÎ±Ï„Î·ÏÎ®ÏƒÎµÏ‰Î½</p>
            {% endif %}
        </div>
    </section>
    
    <section class="conclusions-section">
        <h3>Î‘Î£Î¤Î‘Î˜Î•Î™Î‘</h3>
        <div class="stats-box">
            <p><strong>Î Î¿ÏƒÎ¿ÏƒÏ„Î¹Î±Î¯Î± Î±Î»Î»Î±Î³Î® Î¼ÎµÏ„Î±Î¾Ï Ï€ÎµÏÎ¹ÏŒÎ´Ï‰Î½:</strong> {{ change_pct }}%</p>
            <p><strong>ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·:</strong> {{ stability_status }}</p>
            <p><strong>ATR (Average True Range):</strong> {{ ATR }}</p>
            {% if has_instability %}
            <p class="conclusion">ğŸ“ˆ Î— Ï‡ÏÎ¿Î½Î¿ÏƒÎµÎ¹ÏÎ¬ Î Î‘Î¡ÎŸÎ¥Î£Î™Î‘Î–Î•Î™ Î±ÏƒÏ„Î¬Î¸ÎµÎ¹Î± ÏƒÏ„Î· ÏƒÏ…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬ Ï„Î·Ï‚</p>
            {% endif %}
        </div>
    </section>
    
    <section class="conclusions-section">
        <h3>Î£Î¥ÎÎŸÎ›Î™ÎšÎ‘ Î£Î¥ÎœÎ Î•Î¡Î‘Î£ÎœÎ‘Î¤Î‘</h3>
        <div class="conclusions-list">
            <ol>
                <li>Î— Ï‡ÏÎ¿Î½Î¿ÏƒÎµÎ¹ÏÎ¬ Ï€Î±ÏÎ¿Ï…ÏƒÎ¹Î¬Î¶ÎµÎ¹ <strong>{{ trend_strength }} {{ trend_direction }} Ï„Î¬ÏƒÎ·</strong> Î¼Îµ RÂ² = {{ r2 }}.</li>
                <li>Î— Î±ÏÏ‡Î¹ÎºÎ® Ï‡ÏÎ¿Î½Î¿ÏƒÎµÎ¹ÏÎ¬ <strong>{% if is_original_stationary %}Î•Î™ÎÎ‘Î™{% else %}Î”Î•Î Î•Î™ÎÎ‘Î™{% endif %} ÏƒÏ„Î¬ÏƒÎ¹Î¼Î·</strong> ({% if not is_original_stationary %}Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Ï„Î¬ÏƒÎ·{% else %}Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ ÏƒÎ·Î¼Î±Î½Ï„Î¹ÎºÎ® Ï„Î¬ÏƒÎ·{% endif %}).</li>
                <li>ÎœÎµÏ„Î¬ Ï„Î·Î½ Î±Ï†Î±Î¯ÏÎµÏƒÎ· Ï„Î·Ï‚ Ï„Î¬ÏƒÎ·Ï‚, Ï„Î± ÎºÎ±Ï„Î¬Î»Î¿Î¹Ï€Î± <strong>{% if is_residuals_stationary %}Î•Î™ÎÎ‘Î™{% else %}Î”Î•Î Î•Î™ÎÎ‘Î™{% endif %} ÏƒÏ„Î¬ÏƒÎ¹Î¼Î±</strong>.</li>
                {% if has_long_memory %}
                <li>Î¥Ï€Î¬ÏÏ‡ÎµÎ¹ <strong>Î™Î£Î§Î¥Î¡Î— ÎœÎ‘ÎšÎ¡ÎŸÎ Î¡ÎŸÎ˜Î•Î£ÎœÎ— ÎœÎÎ—ÎœÎ—</strong> (H = {{ H }} > 0.55). ÎŸÎ¹ Ï„Î¬ÏƒÎµÎ¹Ï‚ Ï„ÎµÎ¯Î½Î¿Ï…Î½ Î½Î± ÏƒÏ…Î½ÎµÏ‡Î¯Î¶Î¿Î½Ï„Î±Î¹.</li>
                {% else %}
                <li>ÎŸ Î´ÎµÎ¯ÎºÏ„Î·Ï‚ Hurst (H = {{ H }}) Ï…Ï€Î¿Î´Î·Î»ÏÎ½ÎµÎ¹ {{ memory_type }}.</li>
                {% endif %}
                {% if has_instability %}
                <li>Î— Ï‡ÏÎ¿Î½Î¿ÏƒÎµÎ¹ÏÎ¬ Ï€Î±ÏÎ¿Ï…ÏƒÎ¹Î¬Î¶ÎµÎ¹ <strong>Î‘Î£Î¤Î‘Î˜Î•Î™Î‘</strong> ÏƒÏ„Î· ÏƒÏ…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬ Ï„Î·Ï‚ (Î±Î»Î»Î±Î³Î® {{ change_pct }}% Î¼ÎµÏ„Î±Î¾Ï Ï€ÎµÏÎ¹ÏŒÎ´Ï‰Î½).</li>
                {% else %}
                <li>Î— Ï‡ÏÎ¿Î½Î¿ÏƒÎµÎ¹ÏÎ¬ ÎµÎ¯Î½Î±Î¹ <strong>Î£Î¤Î‘Î˜Î•Î¡Î—</strong> ÏƒÏ„Î· ÏƒÏ…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬ Ï„Î·Ï‚.</li>
                {% endif %}
                {% if has_high_autocorr %}
                <li>Î¥ÏˆÎ·Î»Î® Î±Ï…Ï„Î¿ÏƒÏ…ÏƒÏ‡Î­Ï„Î¹ÏƒÎ· ({{ ac_original }}) Ï…Ï€Î¿Î´Î·Î»ÏÎ½ÎµÎ¹ <strong>ÎµÎ¾Î¬ÏÏ„Î·ÏƒÎ· Î¼ÎµÏ„Î±Î¾Ï Ï€Î±ÏÎ±Ï„Î·ÏÎ®ÏƒÎµÏ‰Î½</strong>.</li>
                {% endif %}
            </ol>
        </div>
    </section>
    
    <section class="conclusions-section">
        <h3>Î£Î¥Î£Î¤Î‘Î£Î•Î™Î£</h3>
        <div class="recommendations">
            <p>Î“Î¹Î± Ï€ÏÏŒÎ²Î»ÎµÏˆÎ· ÎºÎ±Î¹ Î¼Î¿Î½Ï„ÎµÎ»Î¿Ï€Î¿Î¯Î·ÏƒÎ·, ÏƒÏ…Î½Î¹ÏƒÏ„Î¬Ï„Î±Î¹:</p>
            <ul>
                <li>Î§ÏÎ®ÏƒÎ· Î¼Î¿Î½Ï„Î­Î»Ï‰Î½ Ï€Î¿Ï… Î»Î±Î¼Î²Î¬Î½Î¿Ï…Î½ Ï…Ï€ÏŒÏˆÎ· Ï„Î·Î½ Ï„Î¬ÏƒÎ· (ARIMA, SARIMA, Î® Î¼Î¿Î½Ï„Î­Î»Î± Î¼Îµ trend component)</li>
                <li>Î§ÏÎ®ÏƒÎ· Ï€ÏÏÏ„Ï‰Î½ Î´Î¹Î±Ï†Î¿ÏÏÎ½ Î³Î¹Î± ÏƒÏ„Î±ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï„Î·Ï‚ Ï‡ÏÎ¿Î½Î¿ÏƒÎµÎ¹ÏÎ¬Ï‚</li>
                {% if has_long_memory %}
                <li>Î›Î®ÏˆÎ· Ï…Ï€ÏŒÏˆÎ· Ï„Î·Ï‚ Î¼Î±ÎºÏÎ¿Ï€ÏÏŒÎ¸ÎµÏƒÎ¼Î·Ï‚ Î¼Î½Î®Î¼Î·Ï‚ (Fractional ARIMA, GARCH models)</li>
                {% endif %}
                {% if has_instability %}
                <li>ÎœÎ¿Î½Ï„ÎµÎ»Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï„Î·Ï‚ Î±ÏƒÏ„Î¬Î¸ÎµÎ¹Î±Ï‚/Î¼ÎµÏ„Î±Î²Î»Î·Ï„ÏŒÏ„Î·Ï„Î±Ï‚ (GARCH, Stochastic Volatility models)</li>
                {% endif %}
                {% if has_high_autocorr %}
                <li>Î§ÏÎ®ÏƒÎ· Î¼Î¿Î½Ï„Î­Î»Ï‰Î½ Ï€Î¿Ï… Î»Î±Î¼Î²Î¬Î½Î¿Ï…Î½ Ï…Ï€ÏŒÏˆÎ· Ï„Î·Î½ Î±Ï…Ï„Î¿ÏƒÏ…ÏƒÏ‡Î­Ï„Î¹ÏƒÎ· (AR, MA, ARMA components)</li>
                {% endif %}
            </ul>
        </div>
    </section>
</article>

<style>
.summary-plot {
    margin: 20px 0;
    text-align: center;
}

.conclusions-section {
    margin: 30px 0;
    padding: 20px;
    background-color: #f9f9f9;
    border-radius: 8px;
    border-left: 4px solid #4CAF50;
}

.conclusions-section h3 {
    color: #2e7d32;
    margin-bottom: 15px;
    border-bottom: 2px solid #4CAF50;
    padding-bottom: 10px;
}

.stats-box {
    background-color: white;
    padding: 15px;
    border-radius: 5px;
    margin: 10px 0;
}

.stats-box p {
    margin: 8px 0;
    font-size: 16px;
}

.positive {
    color: #2e7d32;
    font-weight: bold;
}

.negative {
    color: #c62828;
    font-weight: bold;
}

.conclusion {
    background-color: #e8f5e9;
    padding: 10px;
    border-radius: 5px;
    margin-top: 10px;
    font-weight: bold;
}

.conclusions-list {
    background-color: white;
    padding: 20px;
    border-radius: 5px;
    margin: 10px 0;
}

.conclusions-list ol {
    line-height: 2;
    font-size: 16px;
}

.recommendations {
    background-color: white;
    padding: 20px;
    border-radius: 5px;
    margin: 10px 0;
}

.recommendations ul {
    line-height: 2;
    font-size: 16px;
    margin-top: 10px;
}
</style>
{% endblock %}

